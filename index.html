<!DOCTYPE html>
<html lang="en">
<head>
	<title>Practice JavaScript</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="normalize.css" />
	<link rel="stylesheet" type="text/css" href="styles.css" />
	<script src="javascript.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	
</head>

<body>

	<header class="main-header">
		<h1 class="name"><a href="#">Travel Worthy</a></h1>
	</header>
	
	<div id="wrapper">
	
		<form>
			<div class="leftSide">
				<h2>Hotel Listing</h2>
				<legend>Select a Hotel:</legend>
				<div id="hoteldata">
				</div>
			</div>
		</form>
		
		<div class="rightSide">
			<div class="hotelInformation">
				<hr />
				<div id="hotelName" class="name"></div>
				<hr />
				<div id="roomRate" class="room"></div>
				<div id="specialRate" class="discount"></div>
				<div id="offerEnds" class="offer"></div>
			</div>
		</div>
		
	</div>
	
		<footer>
			<div id="copyright"></div>
    	</footer>
		
	<script language="javascript" type="text/javascript">
	// loads json list of hotels and their info
		var xhr = new XMLHttpRequest();
		xhr.onreadystatechange = function () {
		  if(xhr.readyState === 4 && xhr.status === 200) {
			 var hotels = JSON.parse(xhr.responseText);
			 var statusHTML = '';
			
			for (var i=0; i<hotels.length; i += 1) {
				statusHTML += '<img src=' + hotels[i].image + ' alt =' + hotels[i].name + ' />';
			
			}
			
			document.getElementById('hoteldata').innerHTML = statusHTML;
			
		  }
		};

		xhr.open('GET', 'hotels.json');
		xhr.send();
	
		// Display data of the hotel image clicked
		$('img').click(function () {
			
				var src= $(this).find('img').attr('src');
				alert(src);
	
		});

	 
    </script>

	<script language="javascript" type="text/javascript">
	// Gets the discount countdown date
	var today = new Date();
	var year = today.getFullYear();
	var copyright = document.getElementById('copyright');
	copyright.innerHTML = '&copy; ' + year + ' Travel Worthy';
	</script>

	<script>
	// Gets the size of the window to size the '.hotelInformation' div subtracted from the header size
	$(document).ready(function() {
	  function setHeight() {
		windowHeight = $(window).innerHeight() - 80;
		$('.hotelInformation').css('min-height', windowHeight);
	  };
	  setHeight();
	  
	  $(window).resize(function() {
		setHeight();
	  });
	});
	</script>
</body>
</html>
